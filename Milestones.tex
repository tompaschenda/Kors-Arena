\documentclass[11pt,a4paper]{article}
\usepackage[latin1]{inputenc}
\usepackage{ngerman}
\usepackage{amsmath}
\usepackage{algorithmic}
\usepackage{color, listings}
\usepackage[colorlinks=true,linkcolor=black,pdfborder={0 0 0}]{hyperref}


\lstloadlanguages{C++}
\lstset{language=[Sharp]C,captionpos=b,frame=lines,basicstyle=\ttfamily,keywordstyle=\color{blue},commentstyle=\color{green},stringstyle=\color{red},
numbers=left, numberstyle=\tiny, numbersep=5pt,breaklines=true, showstringspaces=false,emph={double,bool,int,unsigned,char,true,false,void},emphstyle=\color{blue},
emph={Assert,Test},emphstyle=\color{red},emph={[2]\using,\#define,\#ifdef,\#endif}, emphstyle={[2]\color{blue}}}


\date{\today}
\author{Matthias Westhäuser}
\title{\huge{DSA-Projekt-Meilensteine \\ (und restlicher Krimskrams)}}


\begin{document}

\maketitle

\newpage

\tableofcontents

\newpage

\section{Allgemeines}
In diesem Artikel sollen die Meilensteine für das DSA-Projekt definiert werden. Außerdem ist hier jede Menge Platz für alle möglichen und in Zukunft zu berücksichtigenden Anmerkungen, Kommentare, etc.

\section{Warum Latex und nicht Trac?}
Weil Latex rockt, Trac suckt, ich keinen Bock habe, einen Server dafür aufzusetzen und / oder die Syntax dafür soweit zu lernen, dass es schön aussieht, und wir eh nur mit zwei Mann arbeiten ;-)\\
Außerdem haben wir so alles in einem übersichtlichen Dokument und die Formatierung ist (hoffentlich) makellos. Wir sollten die jeweiligen Issues sowieso rein sequentiell angehen, da wir uns sonst garantiert verzetteln werden. Ganz nebenbei lassen sich die Tex-Dateien schön unter Quellcodeverwaltung stellen (Merging kein Problem, vernünftige History, etc.) und liegen dann praktischerweise in unserem Repository gleich mit dabei.

\section{Definitionen}

\section{Wichtige Fakten}

\section{Meilensteine}
Die Reihenfolge der Meilensteine ist momentan noch relativ locker, aber durchaus mit Bedacht gewählt. In keinem Fall ist die Liste vollständig ;-)


\subsection{Kurzübersicht der Meilensteine }
\begin{enumerate}
	\item Laden, Speichern und Erstellen von Helden  \ref{Mile_ladenUndSpeichern}
	\item Versus-Modus \ref{Mile_versusModus}
	\item DKs, Terrain und Lichtverhältnisse \ref{Mile_DKTerrainUndLicht}
	\item Initiative \ref{Mile_Initiative}
	\item Kampf gegen Tiere \ref{Mile_tiere}
	\item Kampfrelevante Vor- und Nachteile \ref{Mile_vorteileUndNachteile}
	\item Grundlegende Kampfsonderfertigkeiten und Manöver \ref{Mile_basicSF}
	\item Statusänderungen, Rüstung und Inventar \ref{Mile_statusChange}
	\item Fernkampf und Kampf zu Pferd \ref{Mile_FK}
	\item Kampf gegen mehrere Gegner \ref{Mile_mehrereGegner}
	\item Restliche Kampfsonderfertigkeiten und Manöver \ref{Mile_indepthSF}
	\item Untote, Dämonen und Elementare \ref{Mile_untoteUndCo}
	\item Magiesystem und verwandte Sonderfertigkeiten \ref{Mile_magieUndSF}
	\item Geweihte, Mirakel und vewrandte Sonderfertigkeiten \ref{Mile_geweihte}
	\item Rituale, langwierige Zauber und spezielle Funktionen \ref{Mile_rituale}
	\item Professionen und nicht Kampf-relevante Talente \ref{Mile_professionenUndTalente}
	\item Meister-Modus \ref{Mile_meistermodus}
	\item Heldengenerator \ref{Mile_Heldengenerator}
	\item EXP-Verrechner und Levelups \ref{Mile_exp}
	\item 3D-Bewegungen \ref{Mile_threeD}
	\item Einzelspieler-Modus und KI \ref{Mile_einzelspieler}
	
\end{enumerate}


\subsection{Detailübersicht der einzelnen Meilensteine}

\subsubsection{Laden, Speichern und Erstellen von Helden} \label{Mile_ladenUndSpeichern}
Zunächst einmal brauchen wir die Möglichkeit, einen Helden Abspeichern und Laden zu können. Dabei ist natürlich wichtig, dass alle zugehörigen Eigenschaften, Talente, Gegenstände, SF, etc. mit abgespeichert und geladen werden können. Wir betrachten jetzt noch keine Statusänderungen - die kommen in einem späteren Meilenstein. Zu bedenken wäre, dass man manchmal Helden laden können möchte, die vielleicht nicht bis ins letzte Detail ausstaffiert sind. Also müssen auch sinnvolle Default-Werte bedacht werden, für nicht essentielle Werte - z.B. Astralpunkte, etc.\\
In jedem Fall sollten wir berücksichtigen, was für "`Dinge"' zur Beschreibung eines Helden wichtig sind. Zunächst müssen nur die Pflichtfelder vorgegeben werden, der Rest bleibt "`leer"', bzw. wird nicht benutzt. Spontan würden mir dazu einfallen:
\begin{itemize}
	\item Name (Pflicht)
	\item Eigenschaften (Pflicht)
	\item Größe und Gewicht (Pflicht)
	\item Basiswerte von abgeleiteten Eigenschaften (Pflicht)
	\item Aussehen, Titel, etc.
	\item Inventar, Waffen, Rüstung
	\item Talente
	\item Zauber
	\item Gaben
	\item Sonderfertigkeiten
	\item Profession
	\item Kultur
	\item Rasse
	\item Vor- und Nachteile
\end{itemize}
Verknüpft mit diesem Meilenstein sind die folgenden Unterpunkte:
\begin{itemize}
	\item GUI-Interface zum Laden und Speichern.
	\item Anzeige aller relevanten Daten eines Helden in der GUI (nur textbasiert, aber sortiert nach obigen Kategorien)
	\item Eine Liste mit allen geladenen Helden in der GUI (textbasiert)
	\item Ein Rechteckgrid in der GUI, auf das Helden aus der Liste mit Drag\&Drop gezogen werden können (nur zwei Helden)
	\item Das Abspeichern sollte für jeden Helden in der Liste individuell, sowie komplett für alle Helden möglich sein.
	
\end{itemize}
Natürlich muss auch gewährleistet sein, dass man einen Helden mit dem Tool erstellen kann. Die folgenden Punkte sind für die Entwicklung davon relevant:
\begin{itemize}
	\item Hierbei sollte es möglich sein, alle Heldenrelevanten "`Dinge"', die oben aufgezählt werden, auswählen zu können. 
	\item Wo möglich, sollte es bereits Pulldown-Menüs geben, so dass man z.B. eine Liste von Sonderfertigkeiten vor sich hat (sinnvoll sortiert) und aus diesen Listen auswählen kann. 
	\item Außerdem sollte es natürlich möglich sein, dass man mehr als eine SF auswählen kann, mehr als eine Profession, mehr als eine Waffe etc.
	\item Eine Logik, ob die Kombination der Auswahlen möglich ist, sowie ein Bezahlsystem wird an dieser Stelle noch nicht (!) implementiert.
	\item "`Dinge"', die sich bereits komplett in Listen abhandeln lassen, sind: Talente, Waffen, Rüstung, Zauber, Gaben, SF, Professionen, Kulturen, Rassen, Vor- und Nachteile.
	\item "`Dinge"', die man teilweise in Listen abhandeln kann, sind: Tränke, Gifte
	\item Für die Kategorien Waffen (mehrere Waffen), Rüstung (mehrere gleiche Rüstungsteile) und Zauber (gleicher Zauber, aber versch. Repräsentation) muss man in der Lage sein, diese Kategorien mehrmals wählen zu können. Bei den übrigen "`Dingen"' ist dies nicht sinnvoll.
\end{itemize}



\subsubsection{ Versus-Modus} \label{Mile_versusModus}
Dieser Modus bezeichnet den einfachsten Modus des Programms. Zunächst sind in diesem Modus nur ganz normale, unmodifizierte Attacken möglich. Für den Kampf gelten die folgenden Möglichkeiten:
\begin{itemize}
\item unmodifizierte AT/PA, sowie normales Ausweichen möglich
\item verschiedene Nahkampfwaffen möglich
\item Waffenwechsel möglich
\item Patzer und Glückliche Attacken möglich (optional)
\item Bruchfaktor möglich
\item Kampfunfähigkeit, Tod, TP, SP, RS, TP(A), möglich
\item feste und gleich bleibende Kampfreihenfolge
\item Verlust von Aktionen (Patzer) möglich
\item Verzicht auf Aktionen möglich
\item nur Kampf mit zwei Beteiligten
\item keine Initiative
\item keine Distanzklassen
\item keine Sonderfertigkeiten
\item keine Manöver
\item keine AT/PA-Umwandlungen
\item kein Fernkampf
\item keine Umwelteinflüsse
\end{itemize}
Weiterhin sollten die folgenden Dinge gegeben sein:
\begin{itemize}
	\item Es sollen alle Waffen vorhanden und mit allen grundlegenden Eigenschaften ausgestattet sein - auch wenn diese im jetzigen Modus noch nicht alle verwendet werden.
	\item Eine Bewegung der Helden auf dem Grid an sich ist in dieser Phase noch nicht vorgesehen.
	\item Da es noch keine Distanzklassen gibt, ist eine Attacke / Parade generell von der Entfernung immer möglich.
\end{itemize}

Da wir uns in diesem Meilenstein schon explizit mit allen Waffeneigenschaften beschäftigen, sollten wir vorab einige Definitionen treffen. Ein Schild, bzw. eine Parierwaffe sind ebenfalls Waffen (man kann damit ja ggfs. auch attackieren), sie sollten eventuell in eigene Unterklassen ausgegliedert werden, die von der Waffenklasse ableiten. Ähnliches gilt für Fernkampfwaffen, bzw. für Waffen, die sich sowohl im Fern-, als auch im Nahkampf nutzen lassen. In jedem Fall handelt es sich bei Waffen natürlich auch um "`Gegenstände"'. Zu überlegen wäre auch noch, was wir mit den "`angewachsenen"' Waffen anstellen, also die Waffen, die im waffenlosen Kampf zum Tragen kommen. Hierbei handelt es sich ja nicht um Gegenstände im eigentlichen Sinne. Generell sind im Zusammenhang mit Waffen folgende Eigenschaften zu berücksichtigen:

\begin{itemize}
	\item Bezeichnung der Waffe (offiziell)
	\item Name der Waffe (bei persönlicher oder besonderer Waffe, etc.)
	\item Bool: Ist es eine persönliche Waffe? Ja/Nein
	\item Besitzer (falls persönliche Waffe)
	\item Waffenkategorie (Schwerter, Stäbe, etc.)
	\item Waffenklasse (Fernkampf, Nahkampf, Parierwaffe, Schild, Schild- \& Parierwaffe, Hybridwaffe für Fern- und Nahkampf)
	\item Händigkeit(en) (einhändig, zweihändig, anderthalbhändig)
	\item Bei Schilden: Größe (gibt der Schild Deckung zur Fernkampfabwehr)
	\item Bei Schilden: Nicht geeignet zur Abwehr von bestimmten Waffentypen /-Kategorien (mehrere möglich)
	\item Bei Waffen: Nicht geeignet zur Abwehr von bestimmten Waffenkategorien
	\item Bool: Wird die Waffe gerade getragen? Ja/Nein
	\item Gewicht
	\item Länge
	\item Erlaubte Distanzklassen (mehrere möglich)
	\item Basis-TP, ggfs. TP(A)
	\item KKZ (Schwelle und Schrittweite)
	\item Erlaubte Manöver
	\item Vergiftet Ja/Nein, Dauer, Giftart
	\item Kann man die Waffe verlieren? Ja/Nein
	\item Reichweite (nur FK)
	\item Extra-Schaden pro Zeit (Ogerfänger)?
	\item Waffenvergleichswert
	\item INI-Modifikator
	\item Bruchfaktor (ggfs. unendlich, wenn unzerstörbar), eine Waffe ist nicht benutzbar, wenn BF überschritten!
	\item Material Griff (wg. Unverträglichkeiten, etc.)
	\item Material Waffe (wg. Temperatureinfluss, etc.)
	\item Preis
	\item Improvisiert? Ja/Nein
	\item Benötigtes Talent zur Führung / Führungsstil (mehrere möglich)
	\item Aktuell geführter Stil (nur einer möglich, nur, wenn getragen)
	\item Besonderheiten bei Patzern / glücklichen AT (Funktionsdefinition muss möglich sein!)
	\item Besonderheiten bei erfolgreicher / misslungener Attacke (Funktionsdefinition muss möglich sein!) 
	\item Besonderheiten bei erfolgreicher / misslungener Attacke (Funktionsdefinition muss möglich sein!)
	\item Besonderheiten bei erfolgreichem Treffer / erfolgreichem Schaden (Funktionsdefinition muss möglich sein!)
	\item Eigenschaften, die bei Konzentration auszulösen sind (z.B. auf der Waffe liegende Zauber), hier können mehrere möglich sein
	\item Waffenstatus profan, magisch, geweiht (mehrere möglich, Dauer möglich)
	\item Auf der Waffe liegende Zauber / Rituale (es muss später möglich sein, einen gewirkten Zauber in einer Waffe abzulegen, ggfs. auch mehrere!)
	\item Zauberspeicherpunkte (für Artefakte, Magierstab, nicht bei allen Waffen nötig)
	\item Bei FK: Reichweiten
	\item Bei FK: Wunde bei KO/2 SP Ja/Nein?
	\item Bei FK: geeignete Munitiontypen (kompatibel)
	\item Bei FK: Basis-Munitionstyp
	\item Bei FK: TP+ nach Reichweite
	\item Bei FK: Zusatzeffekt (Fledermaus, etc.)
	
\end{itemize}
Eine improvisierte Wurfwaffe wie einen Stuhl könnte man z.B. mit der Eigenschaft ausstatten, dass bei einer Attacke der Gegenstand automatisch als "`verloren"' gilt. Außerdem ist dann ggfs. bei einem Treffer auch automatisch "`zerbrochen"'.\\
Noch nicht berücksichtigt haben wir an dieser Stelle, dass Waffen, ebenso wie andere Artefakte auch "`beseelt"' sein können. Generell sollten wir uns die Möglichkeit dazu nicht verbauen.\\ Auch, wenn es noch keinen Fernkampf an sich gibt, können wir die Waffen bereits einbauen. Dabei ist allerdings zu berücksichtigen, dass wir Munition generell getrennt von einer Waffe verwalten sollten.


\newpage
\section{Demo-Listing}
Hier findet sich in \LaTeX\ eine kleine Demo, wie man - ganz prollig - in \LaTeX\ beliebigen Code schreiben kann. Hier nehmen wir C\# inklusive Syntax-Highlighting. Nachzulesen z.B. unter:
\href{http://rasehorn.net/blog/2007/06/latex-code-listings-mit-syntax-highlighting-in-c/}{Horti's Blog}

\begin{lstlisting}[caption={Beispiellisting},frame=tlrb]


// This is a demo listing for C# code.
if(a>b){
	goto label;
}


\end{lstlisting}

\end{document}